<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>eMagicEyes — Foresight Loop</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --teal:#22d1ee;
  --indigo:#667eea;
  --violet:#663399;
  --ink:#0f172a;
  --bg:#ffffff;
  --text:#1e293b;
  --muted:#64748b;
  --line:rgba(102,126,234,.12);
}
html{scroll-behavior:smooth;scrollbar-width:none;-ms-overflow-style:none}
html::-webkit-scrollbar{display:none}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text)}

/* Header */
.page-header{max-width:1280px;margin:0 auto;padding:72px 24px 44px}
.eyebrow{font-size:11px;font-weight:700;letter-spacing:.2em;text-transform:uppercase;color:var(--teal);margin-bottom:12px}
.page-header h1{font-size:clamp(28px,4vw,50px);font-weight:700;line-height:1.12;margin-bottom:14px;color:var(--text)}
.page-header p{font-size:16px;line-height:1.65;color:var(--muted);max-width:560px}

/* Layout */
.scroll-section{max-width:1280px;margin:0 auto;padding:0 24px 120px;display:grid;grid-template-columns:.95fr 1.05fr;gap:48px;align-items:start}
.steps{padding-top:12px}
.step{padding:52px 0;border-top:1px solid var(--line);cursor:pointer;transition:opacity .25s}
.step:last-child{border-bottom:1px solid var(--line)}
.step .num{font-size:11px;font-weight:700;letter-spacing:.15em;color:var(--indigo);opacity:.7;margin-bottom:10px;transition:opacity .25s;font-family:'Space Mono',monospace}
.step h2{font-size:28px;font-weight:700;margin-bottom:12px;transition:color .25s}
.step p{font-size:15px;line-height:1.7;color:var(--muted);max-width:420px}
.step.active .num{opacity:1}
.step.active h2{color:var(--indigo)}

/* Sticky panel */
.sticky-panel{position:sticky;top:56px;height:calc(100vh - 112px);max-height:640px;display:flex;flex-direction:column;gap:12px}

.top-chrome{display:flex;gap:10px}
.chrome-pill{flex:1;padding:12px 14px;border-radius:16px;background:#fff;border:1px solid rgba(102,126,234,.14);display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
.stage-icon{width:32px;height:32px;border-radius:10px;background:linear-gradient(135deg,var(--indigo),var(--teal));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:13px;flex-shrink:0}
.stage-meta{display:flex;flex-direction:column;gap:2px}
.stage-name{font-size:12px;font-weight:800;color:var(--indigo);letter-spacing:.02em}
.stage-sub{font-size:10px;color:var(--muted)}

.progress{flex:1;padding:12px 14px;border-radius:16px;background:#fff;border:1px solid rgba(102,126,234,.14);display:flex;gap:8px;align-items:center;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
.pip{flex:1;height:3px;border-radius:2px;background:rgba(102,126,234,.15);transition:background .35s}
.pip.done{background:var(--teal)}
.pip.active{background:var(--indigo);position:relative;overflow:hidden}
.pip.active::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.55),transparent);animation:shimmer 1.5s infinite}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}

.visual-card{
  background:radial-gradient(1200px 520px at 30% 10%, rgba(102,126,234,.35), transparent 55%),
             radial-gradient(900px 480px at 80% 0%, rgba(34,209,238,.26), transparent 60%),
             linear-gradient(135deg,#1a1a2e 0%,#16213e 50%,#0f3460 100%);
  border-radius:26px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 2px 0 rgba(102,126,234,.08),0 14px 42px rgba(102,126,234,.18),0 36px 90px rgba(102,51,153,.12);
  flex:1;
  position:relative;
}

.board{position:absolute;inset:0;padding:20px;display:flex;flex-direction:column}
.board-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.board-title{font-size:11px;font-weight:600;letter-spacing:1px;color:rgba(255,255,255,.5);font-family:'Space Mono',monospace}
.board-badge{display:flex;align-items:center;gap:6px;padding:4px 10px;border-radius:12px;background:rgba(34,209,238,.15);border:1px solid rgba(34,209,238,.3)}
.board-badge-dot{width:6px;height:6px;border-radius:50%;background:#22d1ee;animation:pulse 2s infinite}
.board-badge-text{font-size:10px;color:#22d1ee;font-weight:600}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}

.visual-content{flex:1;display:flex;align-items:center;justify-content:center;position:relative}
.visual-content svg{width:100%;height:100%;max-height:400px}

/* Hide all states by default */
.state-svg{display:none;opacity:0;transition:opacity 0.4s}
.state-svg.active{display:block;opacity:1}

.caption{
  margin-top:auto;
  padding:14px 16px;
  border-radius:14px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.caption-left{display:flex;align-items:center;gap:12px}
.caption-icon{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--indigo),var(--teal));display:flex;align-items:center;justify-content:center}
.caption-icon svg{width:20px;height:20px;fill:white}
.caption-title{font-size:14px;font-weight:600;color:white}
.caption-desc{font-size:12px;color:rgba(255,255,255,.6)}
.caption-status{font-size:11px;font-weight:600;color:var(--teal)}

@media (max-width:900px){
  .scroll-section{grid-template-columns:1fr;gap:32px}
  .sticky-panel{position:relative;top:0;height:auto;max-height:500px}
  .step{padding:32px 0}
  .step h2{font-size:24px}
}
</style>
</head>
<body>

<header class="page-header">
  <div class="eyebrow">FORESIGHT LOOP</div>
  <h1>Always-Advancing Intelligence</h1>
  <p>Five integrated stages that continuously improve workplace safety and operational efficiency.</p>
</header>

<section class="scroll-section">
  <div class="steps">
    <div class="step active" data-step="0">
      <div class="num">/01</div>
      <h2>Connect</h2>
      <p>Seamless plug-and-play integration with your existing cameras, sensors and edge devices — no rip-and-replace required.</p>
    </div>
    <div class="step" data-step="1">
      <div class="num">/02</div>
      <h2>Analyze</h2>
      <p>AI models process every video feed simultaneously, extracting movement data, zone activity and throughput metrics in real time.</p>
    </div>
    <div class="step" data-step="2">
      <div class="num">/03</div>
      <h2>Detect</h2>
      <p>Identifies PPE violations, proximity conflicts, unsafe zones & bottlenecks in real-time with instant alerts.</p>
    </div>
    <div class="step" data-step="3">
      <div class="num">/04</div>
      <h2>Validate</h2>
      <p>Human experts confirm AI detections to reduce false positives and continuously improve model accuracy.</p>
    </div>
    <div class="step" data-step="4">
      <div class="num">/05</div>
      <h2>Optimize</h2>
      <p>Deliver measurable safety and performance improvements with comprehensive dashboards and actionable insights.</p>
    </div>
  </div>

  <div class="sticky-panel">
    <div class="top-chrome">
      <div class="chrome-pill">
        <div class="stage-icon" id="stageIcon">01</div>
        <div class="stage-meta">
          <div class="stage-name" id="stageName">CONNECT</div>
          <div class="stage-sub" id="stageSub">Integration active</div>
        </div>
      </div>
      <div class="progress" id="progress"></div>
    </div>

    <div class="visual-card">
      <div class="board" id="board">
        <div class="board-top">
          <div class="board-title" id="boardTitle">SYSTEM INTEGRATION</div>
          <div class="board-badge"><div class="board-badge-dot"></div><span class="board-badge-text">LIVE</span></div>
        </div>
        
        <div class="visual-content">
          <!-- CONNECT SVG -->
          <svg class="state-svg active" id="svg0" viewBox="0 0 500 320">
            <defs><linearGradient id="cg1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#667eea"/><stop offset="100%" stop-color="#22d1ee"/></linearGradient></defs>
            <circle cx="250" cy="160" r="40" fill="url(#cg1)" opacity="0.9"><animate attributeName="r" values="38;44;38" dur="2s" repeatCount="indefinite"/></circle>
            <circle cx="250" cy="160" r="18" fill="none" stroke="white" stroke-width="2.5"/>
            <circle cx="250" cy="160" r="6" fill="white"/>
            <text x="250" y="220" fill="rgba(255,255,255,0.5)" font-size="10" text-anchor="middle" font-family="monospace">CENTRAL HUB</text>
            <g transform="translate(60,50)"><rect width="70" height="45" rx="6" fill="#2a2f45" stroke="#667eea" stroke-width="2"/><circle cx="35" cy="22" r="12" fill="#1a1a2e" stroke="#22d1ee" stroke-width="1.5"/><circle cx="35" cy="22" r="4" fill="#22d1ee"><animate attributeName="opacity" values="1;0.3;1" dur="1.5s" repeatCount="indefinite"/></circle><text x="35" y="58" fill="rgba(255,255,255,0.4)" font-size="8" text-anchor="middle" font-family="monospace">CAM-01</text></g>
            <line x1="130" y1="72" x2="215" y2="135" stroke="url(#cg1)" stroke-width="2" stroke-dasharray="6,4"><animate attributeName="stroke-dashoffset" values="10;0" dur="1s" repeatCount="indefinite"/></line>
            <g transform="translate(370,50)"><rect width="70" height="45" rx="6" fill="#2a2f45" stroke="#667eea" stroke-width="2"/><circle cx="35" cy="22" r="12" fill="#1a1a2e" stroke="#22d1ee" stroke-width="1.5"/><circle cx="35" cy="22" r="4" fill="#22d1ee"><animate attributeName="opacity" values="1;0.3;1" dur="1.8s" repeatCount="indefinite"/></circle><text x="35" y="58" fill="rgba(255,255,255,0.4)" font-size="8" text-anchor="middle" font-family="monospace">CAM-02</text></g>
            <line x1="370" y1="72" x2="285" y2="135" stroke="url(#cg1)" stroke-width="2" stroke-dasharray="6,4"><animate attributeName="stroke-dashoffset" values="10;0" dur="1.2s" repeatCount="indefinite"/></line>
            <g transform="translate(50,220)"><rect width="80" height="50" rx="6" fill="#2a2f45" stroke="#667eea" stroke-width="2"/><text x="40" y="28" fill="#22d1ee" font-size="11" text-anchor="middle" font-family="monospace">EDGE</text><circle cx="20" cy="40" r="3" fill="#22d1ee"><animate attributeName="opacity" values="1;0.3;1" dur="0.8s" repeatCount="indefinite"/></circle><circle cx="35" cy="40" r="3" fill="#3dc1d3"><animate attributeName="opacity" values="0.3;1;0.3" dur="0.8s" repeatCount="indefinite"/></circle><circle cx="50" cy="40" r="3" fill="#667eea"><animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/></circle></g>
            <line x1="130" y1="245" x2="215" y2="185" stroke="url(#cg1)" stroke-width="2" stroke-dasharray="6,4"><animate attributeName="stroke-dashoffset" values="10;0" dur="0.9s" repeatCount="indefinite"/></line>
            <g transform="translate(370,220)"><rect width="80" height="50" rx="6" fill="#2a2f45" stroke="#667eea" stroke-width="2"/><text x="40" y="28" fill="#22d1ee" font-size="11" text-anchor="middle" font-family="monospace">NVR</text><circle cx="25" cy="40" r="3" fill="#667eea"><animate attributeName="opacity" values="0.3;1;0.3" dur="1s" repeatCount="indefinite"/></circle><circle cx="40" cy="40" r="3" fill="#22d1ee"><animate attributeName="opacity" values="1;0.3;1" dur="0.7s" repeatCount="indefinite"/></circle><circle cx="55" cy="40" r="3" fill="#3dc1d3"><animate attributeName="opacity" values="0.3;1;0.3" dur="0.9s" repeatCount="indefinite"/></circle></g>
            <line x1="370" y1="245" x2="285" y2="185" stroke="url(#cg1)" stroke-width="2" stroke-dasharray="6,4"><animate attributeName="stroke-dashoffset" values="10;0" dur="1.1s" repeatCount="indefinite"/></line>
          </svg>

          <!-- ANALYZE SVG -->
          <svg class="state-svg" id="svg1" viewBox="0 0 500 320">
            <defs><linearGradient id="ag1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#667eea"/><stop offset="100%" stop-color="#22d1ee"/></linearGradient></defs>
            <g transform="translate(20,20)"><rect width="140" height="85" rx="8" fill="#2a2f45" stroke="#3a3f5c" stroke-width="1.5"/><rect x="8" y="8" width="55" height="16" rx="3" fill="#22d1ee"/><text x="35" y="20" fill="white" font-size="8" text-anchor="middle" font-weight="bold">FORKLIFT</text><text x="115" y="20" fill="rgba(255,255,255,0.5)" font-size="9" text-anchor="end">12 km/h</text><polyline points="12,70 35,55 60,60 85,42 110,47 125,38" fill="none" stroke="#22d1ee" stroke-width="2"/><circle cx="125" cy="38" r="3" fill="#22d1ee"/></g>
            <g transform="translate(180,20)"><rect width="140" height="85" rx="8" fill="#2a2f45" stroke="#3a3f5c" stroke-width="1.5"/><rect x="8" y="8" width="70" height="16" rx="3" fill="#3dc1d3"/><text x="43" y="20" fill="white" font-size="8" text-anchor="middle" font-weight="bold">PEDESTRIAN</text><text x="70" y="45" fill="rgba(255,255,255,0.4)" font-size="7" text-anchor="middle">PROXIMITY</text><text x="70" y="65" fill="#22d1ee" font-size="18" text-anchor="middle" font-weight="bold">4.2m</text></g>
            <g transform="translate(340,20)"><rect width="140" height="85" rx="8" fill="#2a2f45" stroke="#667eea" stroke-width="1.5"/><rect x="8" y="8" width="60" height="16" rx="3" fill="#667eea"/><text x="38" y="20" fill="white" font-size="8" text-anchor="middle" font-weight="bold">RED ZONE</text><rect x="12" y="35" width="116" height="7" rx="3" fill="#3a3f5c"/><rect x="12" y="35" width="80" height="7" rx="3" fill="#667eea"><animate attributeName="width" values="60;100;60" dur="2s" repeatCount="indefinite"/></rect><rect x="12" y="50" width="116" height="7" rx="3" fill="#3a3f5c"/><rect x="12" y="50" width="50" height="7" rx="3" fill="#667eea"><animate attributeName="width" values="35;70;35" dur="2.5s" repeatCount="indefinite"/></rect><rect x="12" y="65" width="116" height="7" rx="3" fill="#3a3f5c"/><rect x="12" y="65" width="90" height="7" rx="3" fill="#667eea"><animate attributeName="width" values="70;110;70" dur="1.8s" repeatCount="indefinite"/></rect></g>
            <g transform="translate(20,125)"><rect width="140" height="85" rx="8" fill="#2a2f45" stroke="#3a3f5c" stroke-width="1.5"/><g transform="translate(70,42)"><path d="M0 -22 L0 22 M-7 15 L0 22 L7 15" stroke="#22d1ee" stroke-width="3" fill="none" stroke-linecap="round"><animate attributeName="opacity" values="0.3;1;0.3" dur="1s" repeatCount="indefinite"/></path><path d="M0 22 L0 -22 M-7 -15 L0 -22 L7 -15" stroke="#3dc1d3" stroke-width="3" fill="none" stroke-linecap="round"><animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/></path></g><text x="70" y="78" fill="rgba(255,255,255,0.4)" font-size="9" text-anchor="middle" font-family="monospace">THROUGHPUT</text></g>
            <g transform="translate(250,165)"><circle cx="0" cy="0" r="38" fill="#2a2f45" stroke="url(#ag1)" stroke-width="2.5"/><circle cx="0" cy="0" r="26" fill="#1a1a2e"/><text x="0" y="5" fill="#22d1ee" font-size="14" text-anchor="middle" font-weight="bold">AI</text><circle cx="0" cy="0" r="44" fill="none" stroke="url(#ag1)" stroke-width="2" stroke-dasharray="8,4" opacity="0.5"><animateTransform attributeName="transform" type="rotate" values="0;360" dur="8s" repeatCount="indefinite"/></circle></g>
            <g transform="translate(340,125)"><rect width="140" height="85" rx="8" fill="#2a2f45" stroke="#3a3f5c" stroke-width="1.5"/><rect x="12" y="18" width="116" height="9" rx="4" fill="#3a3f5c"/><rect x="12" y="18" width="0" height="9" rx="4" fill="#667eea"><animate attributeName="width" values="0;116;0" dur="2s" repeatCount="indefinite"/></rect><rect x="12" y="35" width="116" height="9" rx="4" fill="#3a3f5c"/><rect x="12" y="35" width="0" height="9" rx="4" fill="#3dc1d3"><animate attributeName="width" values="0;116;0" dur="2.3s" repeatCount="indefinite"/></rect><rect x="12" y="52" width="116" height="9" rx="4" fill="#3a3f5c"/><rect x="12" y="52" width="0" height="9" rx="4" fill="#22d1ee"><animate attributeName="width" values="0;116;0" dur="1.8s" repeatCount="indefinite"/></rect><text x="70" y="78" fill="rgba(255,255,255,0.4)" font-size="9" text-anchor="middle" font-family="monospace">PROCESSING</text></g>
          </svg>

          <!-- DETECT SVG -->
          <svg class="state-svg" id="svg2" viewBox="0 0 500 320">
            <text x="65" y="22" fill="rgba(255,255,255,0.35)" font-size="10" text-anchor="middle" font-family="monospace">ZONE A</text>
            <text x="185" y="22" fill="rgba(255,255,255,0.35)" font-size="10" text-anchor="middle" font-family="monospace">ZONE B</text>
            <text x="315" y="22" fill="rgba(255,255,255,0.35)" font-size="10" text-anchor="middle" font-family="monospace">ZONE C</text>
            <text x="435" y="22" fill="rgba(255,255,255,0.35)" font-size="10" text-anchor="middle" font-family="monospace">ZONE D</text>
            <line x1="125" y1="12" x2="125" y2="200" stroke="rgba(255,255,255,0.08)" stroke-width="1"/>
            <line x1="250" y1="12" x2="250" y2="200" stroke="rgba(255,255,255,0.08)" stroke-width="1"/>
            <line x1="375" y1="12" x2="375" y2="200" stroke="rgba(255,255,255,0.08)" stroke-width="1"/>
            <rect x="230" y="35" width="140" height="90" fill="rgba(239,68,68,0.08)" stroke="#ef4444" stroke-width="2" stroke-dasharray="8,4" rx="6"><animate attributeName="opacity" values="0.5;1;0.5" dur="1s" repeatCount="indefinite"/></rect>
            <text x="300" y="50" fill="#ef4444" font-size="9" text-anchor="middle" font-family="monospace" font-weight="bold">CONFLICT ZONE</text>
            <rect x="25" y="60" width="190" height="45" fill="none" stroke="#22d1ee" stroke-width="1.5" stroke-dasharray="6,4" rx="5"/>
            <rect x="35" y="70" width="60" height="18" rx="3" fill="#22d1ee"/><text x="65" y="83" fill="white" font-size="8" text-anchor="middle" font-weight="bold">FORKLIFT</text>
            <circle cx="170" cy="82" r="12" fill="#22d1ee"><animate attributeName="cx" values="170;290;170" dur="4s" repeatCount="indefinite"/></circle>
            <line x1="170" y1="82" x2="300" y2="82" stroke="#22d1ee" stroke-width="1.5" stroke-dasharray="4,4"><animate attributeName="stroke-dashoffset" values="8;0" dur="0.5s" repeatCount="indefinite"/></line>
            <circle cx="300" cy="82" r="10" fill="#ef4444"><animate attributeName="r" values="8;12;8" dur="0.8s" repeatCount="indefinite"/></circle>
            <rect x="35" y="92" width="50" height="16" rx="3" fill="#1a1a2e" stroke="#22d1ee" stroke-width="1"/><text x="60" y="103" fill="#22d1ee" font-size="9" text-anchor="middle" font-family="monospace">12 km/h</text>
            <g transform="translate(300,145)"><polygon points="0,-18 -12,18 12,18" fill="#64748b"/><circle cx="0" cy="-25" r="8" fill="#64748b"/></g>
            <line x1="300" y1="115" x2="300" y2="82" stroke="rgba(255,255,255,0.25)" stroke-width="1" stroke-dasharray="4,4"/>
            <rect x="255" y="168" width="90" height="20" rx="3" fill="#ef4444"/><text x="300" y="182" fill="white" font-size="9" text-anchor="middle" font-weight="bold">PEDESTRIAN</text>
            <g transform="translate(230,205)"><rect width="210" height="62" rx="6" fill="#1a1a2e" stroke="#ef4444" stroke-width="1.5"/><text x="12" y="22" fill="#ef4444" font-size="11" font-weight="bold">⚠ Risk Alert</text><text x="12" y="38" fill="rgba(255,255,255,0.65)" font-size="9">High Risk: Fast Vehicle + Pedestrian</text><rect x="12" y="46" width="130" height="6" rx="3" fill="#3a3f5c"/><rect x="12" y="46" width="85" height="6" rx="3" fill="#ef4444"><animate attributeName="width" values="70;100;70" dur="1.5s" repeatCount="indefinite"/></rect><text x="12" y="62" fill="#ef4444" font-size="8" font-family="monospace">ETA: 2.3s</text><text x="195" y="62" fill="rgba(255,255,255,0.4)" font-size="10" text-anchor="end">94%</text></g>
          </svg>

          <!-- VALIDATE SVG -->
          <svg class="state-svg" id="svg3" viewBox="0 0 500 320">
            <defs>
              <linearGradient id="vg1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#667eea"/><stop offset="100%" stop-color="#22d1ee"/></linearGradient>
            </defs>
            
            <!-- Left reviewer (person) -->
            <g transform="translate(70,70)">
              <circle cx="0" cy="0" r="32" fill="#3a3f5c" stroke="#667eea" stroke-width="2.5"/>
              <circle cx="0" cy="-5" r="11" fill="#667eea" opacity="0.8"/>
              <path d="M-14 14 Q0 24 14 14" fill="#667eea" opacity="0.5"/>
              <circle cx="24" cy="-24" r="11" fill="#22d1ee"/>
              <path d="M20 -24 L23 -21 L28 -27" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </g>
            
            <!-- Left monitor -->
            <g transform="translate(22,130)">
              <rect width="96" height="65" rx="6" fill="#1a1a2e" stroke="#667eea" stroke-width="2"/>
              <rect x="6" y="6" width="84" height="44" fill="#252a3d" rx="3"/>
              <rect x="14" y="14" width="32" height="26" fill="none" stroke="#22d1ee" stroke-width="2" rx="2"/>
              <circle cx="58" cy="27" r="11" fill="#22d1ee"/>
              <path d="M53 27 L57 31 L63 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <rect x="33" y="56" width="30" height="6" rx="2" fill="#3a3f5c"/>
            </g>
            
            <!-- Right reviewer (person) -->
            <g transform="translate(430,70)">
              <circle cx="0" cy="0" r="32" fill="#3a3f5c" stroke="#3dc1d3" stroke-width="2.5"/>
              <circle cx="0" cy="-5" r="11" fill="#3dc1d3" opacity="0.8"/>
              <path d="M-14 14 Q0 24 14 14" fill="#3dc1d3" opacity="0.5"/>
              <circle cx="24" cy="-24" r="11" fill="#22d1ee"/>
              <path d="M20 -24 L23 -21 L28 -27" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </g>
            
            <!-- Right monitor -->
            <g transform="translate(382,130)">
              <rect width="96" height="65" rx="6" fill="#1a1a2e" stroke="#3dc1d3" stroke-width="2"/>
              <rect x="6" y="6" width="84" height="44" fill="#252a3d" rx="3"/>
              <rect x="14" y="14" width="32" height="26" fill="none" stroke="#22d1ee" stroke-width="2" rx="2"/>
              <circle cx="58" cy="27" r="11" fill="#22d1ee"/>
              <path d="M53 27 L57 31 L63 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
              <rect x="33" y="56" width="30" height="6" rx="2" fill="#3a3f5c"/>
            </g>
            
            <!-- Central validation wheel -->
            <g transform="translate(250,160)">
              <circle cx="0" cy="0" r="55" fill="none" stroke="url(#vg1)" stroke-width="2.5" stroke-dasharray="8,4"><animate attributeName="stroke-dashoffset" values="0;12" dur="2s" repeatCount="indefinite"/></circle>
              <circle cx="0" cy="0" r="44" fill="#1a1a2e" stroke="#3a3f5c" stroke-width="1.5"/>
              <circle cx="0" cy="0" r="32" fill="#252a3d"/>
              <g>
                <animateTransform attributeName="transform" type="rotate" values="0;360" dur="12s" repeatCount="indefinite"/>
                <circle cx="0" cy="-22" r="9" fill="#22d1ee"/>
                <path d="M-4 -22 L-1 -19 L4 -25" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"/>
                <circle cx="19" cy="11" r="9" fill="#22d1ee"/>
                <path d="M15 11 L18 14 L23 8" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"/>
                <circle cx="-19" cy="11" r="9" fill="#ef4444"/>
                <path d="M-23 7 L-15 15 M-15 7 L-23 15" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"/>
              </g>
              <text x="0" y="5" fill="#22d1ee" font-size="9" text-anchor="middle" font-family="monospace">VALIDATING</text>
            </g>
            
            <!-- Connecting lines - dotted with gradient like the circle -->
            <!-- Left person to center -->
            <line x1="100" y1="85" x2="200" y2="135" stroke="url(#vg1)" stroke-width="2.5" stroke-dasharray="8,4"><animate attributeName="stroke-dashoffset" values="12;0" dur="1s" repeatCount="indefinite"/></line>
            <!-- Left monitor to center -->
            <line x1="118" y1="160" x2="195" y2="160" stroke="url(#vg1)" stroke-width="2.5" stroke-dasharray="8,4"><animate attributeName="stroke-dashoffset" values="12;0" dur="1s" repeatCount="indefinite"/></line>
            <!-- Right person to center -->
            <line x1="400" y1="85" x2="300" y2="135" stroke="url(#vg1)" stroke-width="2.5" stroke-dasharray="8,4"><animate attributeName="stroke-dashoffset" values="12;0" dur="1s" repeatCount="indefinite"/></line>
            <!-- Right monitor to center -->
            <line x1="382" y1="160" x2="305" y2="160" stroke="url(#vg1)" stroke-width="2.5" stroke-dasharray="8,4"><animate attributeName="stroke-dashoffset" values="12;0" dur="1s" repeatCount="indefinite"/></line>
            
            <!-- Accuracy bar -->
            <g transform="translate(165,255)">
              <rect width="170" height="34" rx="17" fill="#22d1ee" opacity="0.12"/>
              <rect width="170" height="34" rx="17" fill="none" stroke="#22d1ee" stroke-width="1.5" opacity="0.5"/>
              <text x="85" y="23" fill="#22d1ee" font-size="13" text-anchor="middle" font-family="monospace" font-weight="bold">ACCURACY: 98.5%</text>
            </g>
          </svg>

          <!-- OPTIMIZE SVG -->
          <svg class="state-svg" id="svg4" viewBox="0 0 500 320">
            <defs>
              <linearGradient id="og1" x1="0%" y1="100%" x2="0%" y2="0%"><stop offset="0%" stop-color="#667eea"/><stop offset="100%" stop-color="#22d1ee"/></linearGradient>
              <linearGradient id="og2" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#667eea"/><stop offset="100%" stop-color="#22d1ee"/></linearGradient>
            </defs>
            <!-- Stat cards -->
            <g transform="translate(15,15)">
              <rect width="145" height="80" rx="8" fill="#2a2f45" stroke="#22d1ee" stroke-width="1" stroke-opacity="0.3"/>
              <text x="12" y="28" fill="rgba(255,255,255,0.5)" font-size="10" font-family="monospace">INCIDENTS</text>
              <text x="12" y="58" fill="#22d1ee" font-size="28" font-weight="bold">-67%</text>
              <!-- Animated arrow - entire group moves -->
              <g transform="translate(115,45)">
                <g>
                  <animateTransform attributeName="transform" type="translate" values="0,5;0,-5;0,5" dur="1s" repeatCount="indefinite"/>
                  <path d="M0 15 L0 -8 M-6 -2 L0 -8 L6 -2" stroke="#22d1ee" stroke-width="3" fill="none" stroke-linecap="round"/>
                </g>
              </g>
              <polyline points="12,72 30,70 50,73 70,66 90,62 110,57 130,52" fill="none" stroke="#22d1ee" stroke-width="1.5" opacity="0.4"/>
            </g>
            <g transform="translate(175,15)">
              <rect width="145" height="80" rx="8" fill="#2a2f45" stroke="#3dc1d3" stroke-width="1" stroke-opacity="0.3"/>
              <text x="12" y="28" fill="rgba(255,255,255,0.5)" font-size="10" font-family="monospace">COMPLIANCE</text>
              <text x="12" y="58" fill="#3dc1d3" font-size="28" font-weight="bold">94.2%</text>
              <g transform="translate(115,48)"><circle cx="0" cy="0" r="18" fill="none" stroke="#3a3f5c" stroke-width="3"/><circle cx="0" cy="0" r="18" fill="none" stroke="#3dc1d3" stroke-width="3" stroke-dasharray="113" stroke-dashoffset="113" stroke-linecap="round" transform="rotate(-90)"><animate attributeName="stroke-dashoffset" values="113;7;7" dur="1.5s" fill="freeze"/></circle><text x="0" y="4" fill="#3dc1d3" font-size="8" text-anchor="middle" font-weight="bold">94%</text></g>
            </g>
            <g transform="translate(335,15)">
              <rect width="145" height="80" rx="8" fill="#2a2f45" stroke="#667eea" stroke-width="1" stroke-opacity="0.3"/>
              <text x="12" y="28" fill="rgba(255,255,255,0.5)" font-size="10" font-family="monospace">RESPONSE TIME</text>
              <text x="12" y="58" fill="#667eea" font-size="28" font-weight="bold">1.2s</text>
              <g transform="translate(115,48)"><circle cx="0" cy="0" r="18" fill="none" stroke="#3a3f5c" stroke-width="1.5"/><circle cx="0" cy="0" r="18" fill="none" stroke="#667eea" stroke-width="1.5" stroke-dasharray="4,4"><animateTransform attributeName="transform" type="rotate" values="0;360" dur="4s" repeatCount="indefinite"/></circle><line x1="0" y1="0" x2="0" y2="-12" stroke="#667eea" stroke-width="2" stroke-linecap="round"><animateTransform attributeName="transform" type="rotate" values="0;360" dur="2s" repeatCount="indefinite"/></line><circle cx="0" cy="0" r="2.5" fill="#667eea"/></g>
            </g>
            <!-- Chart -->
            <g transform="translate(15,110)">
              <line x1="25" y1="0" x2="25" y2="105" stroke="rgba(255,255,255,0.15)" stroke-width="1"/>
              <line x1="25" y1="105" x2="470" y2="105" stroke="rgba(255,255,255,0.15)" stroke-width="1"/>
              <line x1="25" y1="25" x2="470" y2="25" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
              <line x1="25" y1="52" x2="470" y2="52" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
              <line x1="25" y1="78" x2="470" y2="78" stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
              <!-- Scanning line -->
              <line x1="25" y1="0" x2="25" y2="105" stroke="url(#og2)" stroke-width="2" opacity="0.25"><animate attributeName="x1" values="25;470;25" dur="4s" repeatCount="indefinite"/><animate attributeName="x2" values="25;470;25" dur="4s" repeatCount="indefinite"/></line>
              <!-- Before bars -->
              <rect x="50" y="52" width="25" height="53" fill="#4a5568" rx="3" opacity="0.5"/>
              <rect x="135" y="35" width="25" height="70" fill="#4a5568" rx="3" opacity="0.5"/>
              <rect x="220" y="60" width="25" height="45" fill="#4a5568" rx="3" opacity="0.5"/>
              <rect x="305" y="42" width="25" height="63" fill="#4a5568" rx="3" opacity="0.5"/>
              <rect x="390" y="48" width="25" height="57" fill="#4a5568" rx="3" opacity="0.5"/>
              <!-- After bars -->
              <rect x="80" y="105" width="25" height="0" fill="url(#og1)" rx="3"><animate attributeName="height" values="0;88;85;88" dur="2s" fill="freeze"/><animate attributeName="y" values="105;17;20;17" dur="2s" fill="freeze"/></rect>
              <rect x="165" y="105" width="25" height="0" fill="url(#og1)" rx="3"><animate attributeName="height" values="0;95;92;95" dur="2s" begin="0.15s" fill="freeze"/><animate attributeName="y" values="105;10;13;10" dur="2s" begin="0.15s" fill="freeze"/></rect>
              <rect x="250" y="105" width="25" height="0" fill="url(#og1)" rx="3"><animate attributeName="height" values="0;78;75;78" dur="2s" begin="0.3s" fill="freeze"/><animate attributeName="y" values="105;27;30;27" dur="2s" begin="0.3s" fill="freeze"/></rect>
              <rect x="335" y="105" width="25" height="0" fill="url(#og1)" rx="3"><animate attributeName="height" values="0;90;87;90" dur="2s" begin="0.45s" fill="freeze"/><animate attributeName="y" values="105;15;18;15" dur="2s" begin="0.45s" fill="freeze"/></rect>
              <rect x="420" y="105" width="25" height="0" fill="url(#og1)" rx="3"><animate attributeName="height" values="0;82;79;82" dur="2s" begin="0.6s" fill="freeze"/><animate attributeName="y" values="105;23;26;23" dur="2s" begin="0.6s" fill="freeze"/></rect>
              <!-- Trend line -->
              <polyline points="92,60 177,52 262,68 347,56 432,62" fill="none" stroke="#22d1ee" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="400" stroke-dashoffset="400" opacity="0.7"><animate attributeName="stroke-dashoffset" values="400;0" dur="2s" begin="1s" fill="freeze"/></polyline>
              <circle cx="92" cy="60" r="4" fill="#22d1ee" opacity="0"><animate attributeName="opacity" values="0;1" dur="0.2s" begin="1.2s" fill="freeze"/></circle>
              <circle cx="177" cy="52" r="4" fill="#22d1ee" opacity="0"><animate attributeName="opacity" values="0;1" dur="0.2s" begin="1.4s" fill="freeze"/></circle>
              <circle cx="262" cy="68" r="4" fill="#22d1ee" opacity="0"><animate attributeName="opacity" values="0;1" dur="0.2s" begin="1.6s" fill="freeze"/></circle>
              <circle cx="347" cy="56" r="4" fill="#22d1ee" opacity="0"><animate attributeName="opacity" values="0;1" dur="0.2s" begin="1.8s" fill="freeze"/></circle>
              <circle cx="432" cy="62" r="4" fill="#22d1ee" opacity="0"><animate attributeName="opacity" values="0;1" dur="0.2s" begin="2s" fill="freeze"/></circle>
              <!-- Labels -->
              <text x="67" y="120" fill="rgba(255,255,255,0.35)" font-size="9" text-anchor="middle">Jan</text>
              <text x="152" y="120" fill="rgba(255,255,255,0.35)" font-size="9" text-anchor="middle">Feb</text>
              <text x="237" y="120" fill="rgba(255,255,255,0.35)" font-size="9" text-anchor="middle">Mar</text>
              <text x="322" y="120" fill="rgba(255,255,255,0.35)" font-size="9" text-anchor="middle">Apr</text>
              <text x="407" y="120" fill="rgba(255,255,255,0.35)" font-size="9" text-anchor="middle">May</text>
              <!-- Legend -->
              <rect x="430" y="8" width="10" height="10" fill="#4a5568" rx="2"/>
              <text x="445" y="16" fill="rgba(255,255,255,0.4)" font-size="8">Before</text>
              <rect x="430" y="22" width="10" height="10" fill="url(#og1)" rx="2"/>
              <text x="445" y="30" fill="rgba(255,255,255,0.4)" font-size="8">After</text>
            </g>
          </svg>
        </div>

        <div class="caption">
          <div class="caption-left">
            <div class="caption-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
            <div>
              <div class="caption-title" id="capTitle">Connect</div>
              <div class="caption-desc" id="capDesc">Integrates with existing CCTV/NVR systems</div>
            </div>
          </div>
          <div class="caption-status" id="capStatus">Active</div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
const steps = Array.from(document.querySelectorAll('.step'));
const stageIcon = document.getElementById('stageIcon');
const stageName = document.getElementById('stageName');
const stageSub = document.getElementById('stageSub');
const boardTitle = document.getElementById('boardTitle');
const capTitle = document.getElementById('capTitle');
const capDesc = document.getElementById('capDesc');
const capStatus = document.getElementById('capStatus');
const progress = document.getElementById('progress');
const svgs = [document.getElementById('svg0'), document.getElementById('svg1'), document.getElementById('svg2'), document.getElementById('svg3'), document.getElementById('svg4')];

const data = [
  {name:'CONNECT', sub:'Integration active', title:'SYSTEM INTEGRATION', cap:['Connect','Integrates with existing CCTV/NVR systems','Active']},
  {name:'ANALYZE', sub:'Processing feeds', title:'AI PROCESSING', cap:['Analyze','Run AI models on the edge or in the cloud','Processing']},
  {name:'DETECT', sub:'Risk identified', title:'ZONE MONITORING', cap:['Detect','Identifies PPE violations, unsafe zones & bottlenecks','Alert']},
  {name:'VALIDATE', sub:'Human verified', title:'HUMAN-IN-THE-LOOP VALIDATION', cap:['Validate','Human experts confirm accuracy','Verified']},
  {name:'OPTIMIZE', sub:'Impact tracked', title:'PERFORMANCE DASHBOARD', cap:['Optimize','Deliver measurable safety & performance improvements','Live']}
];

// Create progress pips
for (let i = 0; i < data.length; i++) {
  const pip = document.createElement('div');
  pip.className = 'pip';
  progress.appendChild(pip);
}
const pips = Array.from(progress.children);

let activeIndex = -1;

function setActive(idx) {
  if (idx === activeIndex) return;
  activeIndex = idx;

  steps.forEach((s, i) => s.classList.toggle('active', i === idx));
  
  const d = data[idx];
  stageIcon.textContent = String(idx + 1).padStart(2, '0');
  stageName.textContent = d.name;
  stageSub.textContent = d.sub;
  boardTitle.textContent = d.title;
  capTitle.textContent = d.cap[0];
  capDesc.textContent = d.cap[1];
  capStatus.textContent = d.cap[2];

  pips.forEach((p, i) => {
    p.classList.toggle('done', i < idx);
    p.classList.toggle('active', i === idx);
  });

  svgs.forEach((svg, i) => svg.classList.toggle('active', i === idx));
}

function onScroll() {
  const mid = window.innerHeight * 0.45;
  let bestIdx = 0;
  let bestDist = Infinity;
  steps.forEach((step, i) => {
    const r = step.getBoundingClientRect();
    const c = r.top + r.height / 2;
    const dist = Math.abs(c - mid);
    if (dist < bestDist) { bestDist = dist; bestIdx = i; }
  });
  setActive(bestIdx);
}

steps.forEach((s, i) => s.addEventListener('click', () => s.scrollIntoView({ behavior: 'smooth', block: 'center' })));
window.addEventListener('scroll', onScroll, { passive: true });
window.addEventListener('resize', onScroll);
setTimeout(onScroll, 50);
</script>

</body>
</html>
